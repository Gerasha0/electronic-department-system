<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è - –ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –∫–∞—Ñ–µ–¥—Ä–∞</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/dashboard.css">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <!-- Theme Toggle Button -->
    <button class="theme-toggle" id="themeToggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏ —Ç–µ–º—É">
        <svg class="sun-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
        </svg>
        <svg class="moon-icon" style="display: none;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
        </svg>
    </button>

    <header>
        <div class="header-content">
            <h1>üìö –ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –∫–∞—Ñ–µ–¥—Ä–∞</h1>
            <div class="user-info">
                <span id="user-name">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</span>
                <button id="logout-btn" class="btn btn-secondary btn-sm">üö™ –í–∏—Ö—ñ–¥</button>
            </div>
        </div>
        <nav class="main-nav nav-buttons">
            <button class="nav-btn nav-button active" data-section="overview" id="overview-nav">üìä –û–≥–ª—è–¥</button>
            <button class="nav-btn nav-button" data-section="grades" id="grades-nav">üìù –û—Ü—ñ–Ω–∫–∏</button>
            <button class="nav-btn nav-button" data-section="users" id="users-nav">üë• –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ</button>
            <button class="nav-btn nav-button" data-section="teachers" id="teachers-nav">üë®‚Äçüè´ –í–∏–∫–ª–∞–¥–∞—á—ñ</button>
            <button class="nav-btn nav-button" data-section="students" id="students-nav">üéì –°—Ç—É–¥–µ–Ω—Ç–∏</button>
            <button class="nav-btn nav-button" data-section="groups" id="groups-nav">üë• –ì—Ä—É–ø–∏</button>
            <button class="nav-btn nav-button" data-section="subjects" id="subjects-nav">üìö –î–∏—Å—Ü–∏–ø–ª—ñ–Ω–∏</button>
            <button class="nav-btn nav-button" data-section="archive" id="archive-nav">üóÑÔ∏è –ê—Ä—Ö—ñ–≤</button>
        </nav>
    </header>

    <main class="dashboard-main">
        <!-- Overview Section -->
        <section id="overview-section" class="section active">
            <h2>–û–≥–ª—è–¥ —Å–∏—Å—Ç–µ–º–∏</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º–∏</h3>
                    <div id="system-stats">
                        <div class="loading"></div>
                    </div>
                </div>
                <div class="stat-card">
                    <h3>üë§ –ú—ñ–π –ø—Ä–æ—Ñ—ñ–ª—å</h3>
                    <div id="user-profile">
                        <div class="loading"></div>
                    </div>
                </div>
                <div class="stat-card">
                    <h3>üìà –û—Å—Ç–∞–Ω–Ω—ñ –¥—ñ—ó</h3>
                    <div id="recent-activities">
                        <div class="loading"></div>
                    </div>
                </div>
                <div class="stat-card">
                    <h3>‚ÑπÔ∏è –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–∞—Ñ–µ–¥—Ä—É</h3>
                    <div id="department-info">
                        <div class="loading"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Grades Section -->
        <section id="grades-section" class="section">
            <h2>–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –æ—Ü—ñ–Ω–∫–∞–º–∏</h2>
            
            <div class="section-controls">
                <div class="filters">
                    <select id="grade-filter-subject">
                        <option value="">–í—Å—ñ –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω–∏</option>
                    </select>
                    <input type="text" id="grade-search-student" placeholder="üîç –ü–æ—à—É–∫ –ø–æ —Å—Ç—É–¥–µ–Ω—Ç–∞–º..." class="search-input">
                    <select id="grade-filter-group">
                        <option value="">–í—Å—ñ –≥—Ä—É–ø–∏</option>
                    </select>
                    <select id="grade-filter-category">
                        <option value="">–í—Å—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó</option>
                        <option value="CURRENT_CONTROL">üìù –ü–æ—Ç–æ—á–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å</option>
                        <option value="FINAL_CONTROL">üèÜ –ü—ñ–¥—Å—É–º–∫–æ–≤–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å</option>
                        <option value="RETAKE">üîÑ –ü–µ—Ä–µ–∑–¥–∞—á–∞</option>
                        <option value="MAKEUP">üìù –í—ñ–¥–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è</option>
                    </select>
                    <select id="grade-filter-type">
                        <option value="">–í—Å—ñ —Ç–∏–ø–∏ —Ä–æ–±—ñ—Ç</option>
                        <!-- –î–∏–Ω–∞–º—ñ—á–Ω–æ –∑–∞–ø–æ–≤–Ω—é—î—Ç—å—Å—è –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó -->
                    </select>
                </div>
                <button id="add-grade-btn" class="btn btn-success">‚ûï –î–æ–¥–∞—Ç–∏ –æ—Ü—ñ–Ω–∫—É</button>
            </div>

            <div class="table-container">
                <table id="grades-table">
                    <thead id="grades-table-header">
                        <!-- Header will be dynamically generated -->
                    </thead>
                    <tbody id="grades-tbody">
                        <tr><td colspan="9"><div class="loading"></div></td></tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Users Section -->
        <section id="users-section" class="section">
            <h2>–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏</h2>
            
            <div class="section-controls">
                <div class="filters">
                    <div class="search-group">
                        <input type="text" id="user-search" placeholder="üîç –ü–æ—à—É–∫ –∑–∞ —ñ–º–µ–Ω–µ–º –∞–±–æ email...">
                        <button id="search-users" class="btn-icon" title="–ü–æ—à—É–∫">üîç</button>
                    </div>
                    <select id="user-filter-role">
                        <option value="">–í—Å—ñ —Ä–æ–ª—ñ</option>
                        <option value="ADMIN">‚öôÔ∏è –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä</option>
                        <option value="MANAGER">üë• –ú–µ–Ω–µ–¥–∂–µ—Ä</option>
                        <option value="TEACHER">üë®‚Äçüè´ –í–∏–∫–ª–∞–¥–∞—á</option>
                        <option value="STUDENT">üéì –°—Ç—É–¥–µ–Ω—Ç</option>
                    </select>
                </div>
                <button id="add-user-btn" class="btn btn-success">‚ûï –î–æ–¥–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</button>
            </div>

            <div class="table-container">
                <table id="users-table">
                    <thead>
                        <tr>
                            <th>üë§ –Ü–º'—è</th>
                            <th>üìß Email</th>
                            <th>üé≠ –†–æ–ª—å</th>
                            <th>üìä –°—Ç–∞—Ç—É—Å</th>
                            <th>üìÖ –î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è</th>
                            <th>‚öôÔ∏è –î—ñ—ó</th>
                        </tr>
                    </thead>
                    <tbody id="users-tbody">
                        <tr><td colspan="6"><div class="loading"></div></td></tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Teachers Section -->
        <section id="teachers-section" class="section">
            <h2>–í–∏–∫–ª–∞–¥–∞—á—ñ</h2>
            
            <div class="section-controls">
                <div class="filters">
                    <div class="search-group">
                        <input type="text" id="teacher-search" placeholder="üîç –ü–æ—à—É–∫ –≤–∏–∫–ª–∞–¥–∞—á—ñ–≤...">
                        <button id="search-teachers" class="btn-icon" title="–ü–æ—à—É–∫">üîç</button>
                    </div>
                </div>
            </div>

            <div class="table-container">
                <table id="teachers-table">
                    <thead>
                        <tr>
                            <th>üë®‚Äçüè´ –Ü–º'—è</th>
                            <th>üìß Email</th>
                            <th>üè¢ –ö–∞—Ñ–µ–¥—Ä–∞</th>
                            <th>üìö –î–∏—Å—Ü–∏–ø–ª—ñ–Ω–∏</th>
                            <th>‚öôÔ∏è –î—ñ—ó</th>
                        </tr>
                    </thead>
                    <tbody id="teachers-tbody">
                        <tr><td colspan="5"><div class="loading"></div></td></tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Students Section -->
        <section id="students-section" class="section">
            <h2>–°—Ç—É–¥–µ–Ω—Ç–∏</h2>
            
            <div class="section-controls">
                <div class="filters">
                    <div class="search-group">
                        <input type="text" id="student-search" placeholder="üîç –ü–æ—à—É–∫ —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤..." class="search-input">
                        <button id="search-students" class="btn-icon" title="–ü–æ—à—É–∫">üîç</button>
                    </div>
                    <select id="student-filter-group">
                        <option value="">–í—Å—ñ –≥—Ä—É–ø–∏</option>
                    </select>
                    
                    <div class="filter-group">
                        <select id="student-education-level-filter">
                            <option value="">üéì –í—Å—ñ —Ä—ñ–≤–Ω—ñ –æ—Å–≤—ñ—Ç–∏</option>
                            <option value="BACHELOR">üéì –ë–∞–∫–∞–ª–∞–≤—Ä</option>
                            <option value="MASTER">üéØ –ú–∞–≥—ñ—Å—Ç—Ä</option>
                            <option value="PHD">üë®‚Äçüî¨ –ê—Å–ø—ñ—Ä–∞–Ω—Ç</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <select id="student-study-form-filter">
                            <option value="">üìö –í—Å—ñ —Ñ–æ—Ä–º–∏ –Ω–∞–≤—á–∞–Ω–Ω—è</option>
                            <option value="FULL_TIME">üéì –î–µ–Ω–Ω–∞</option>
                            <option value="EVENING">üåô –í–µ—á—ñ—Ä–Ω—è</option>
                            <option value="PART_TIME">üìÆ –ó–∞–æ—á–Ω–∞</option>
                            <option value="DISTANCE">üíª –î–∏—Å—Ç–∞–Ω—Ü—ñ–π–Ω–∞</option>
                        </select>
                    </div>
                    
                    <div class="grade-filter-group">
                        <label for="student-filter-grade-min">–°–µ—Ä–µ–¥–Ω—ñ–π –±–∞–ª –≤—ñ–¥:</label>
                        <input type="number" id="student-filter-grade-min" min="0" max="100" placeholder="0" class="grade-input">
                        <label for="student-filter-grade-max">–¥–æ:</label>
                        <input type="number" id="student-filter-grade-max" min="0" max="100" placeholder="100" class="grade-input">
                    </div>
                    <div class="sort-group">
                        <label for="student-sort">–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è:</label>
                        <select id="student-sort">
                            <option value="name-asc">üë§ –Ü–º'—è (–ê-–Ø)</option>
                            <option value="name-desc">üë§ –Ü–º'—è (–Ø-–ê)</option>
                            <option value="grade-desc">‚≠ê –°–µ—Ä–µ–¥–Ω—ñ–π –±–∞–ª (‚Üì)</option>
                            <option value="grade-asc">‚≠ê –°–µ—Ä–µ–¥–Ω—ñ–π –±–∞–ª (‚Üë)</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="table-container">
                <table id="students-table">
                    <thead>
                        <tr>
                            <th>üéì –Ü–º'—è</th>
                            <th>üìß Email</th>
                            <th>üë• –ì—Ä—É–ø–∞</th>
                            <th>üéì –†—ñ–≤–µ–Ω—å –æ—Å–≤—ñ—Ç–∏</th>
                            <th>ÔøΩ –§–æ—Ä–º–∞ –Ω–∞–≤—á–∞–Ω–Ω—è</th>
                            <th>ÔøΩüìñ –ö—É—Ä—Å</th>
                            <th>‚≠ê –°–µ—Ä–µ–¥–Ω—ñ–π –±–∞–ª</th>
                            <th>‚öôÔ∏è –î—ñ—ó</th>
                        </tr>
                    </thead>
                    <tbody id="students-tbody">
                        <tr><td colspan="8"><div class="loading"></div></td></tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Groups Section -->
        <section id="groups-section" class="section">
            <h2>–ì—Ä—É–ø–∏ —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤</h2>
            
            <div class="section-controls">
                <div class="filters">
                    <div class="search-group">
                        <input type="text" id="group-search" placeholder="üîç –ü–æ—à—É–∫ –≥—Ä—É–ø (–Ω–∞–∑–≤–∞ –∞–±–æ –∫–æ–¥)...">
                        <button id="search-groups" class="btn-icon" title="–ü–æ—à—É–∫">üîç</button>
                    </div>
                    
                    <div class="filter-group">
                        <select id="education-level-filter">
                            <option value="">üéì –í—Å—ñ —Ä—ñ–≤–Ω—ñ –æ—Å–≤—ñ—Ç–∏</option>
                            <option value="BACHELOR">üéì –ë–∞–∫–∞–ª–∞–≤—Ä</option>
                            <option value="MASTER">üéØ –ú–∞–≥—ñ—Å—Ç—Ä</option>
                            <option value="PHD">üë®‚Äçüî¨ –ê—Å–ø—ñ—Ä–∞–Ω—Ç</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <select id="course-filter">
                            <option value="">üìñ –í—Å—ñ –∫—É—Ä—Å–∏</option>
                            <option value="1">1 –∫—É—Ä—Å</option>
                            <option value="2">2 –∫—É—Ä—Å</option>
                            <option value="3">3 –∫—É—Ä—Å</option>
                            <option value="4">4 –∫—É—Ä—Å</option>
                            <option value="5">5 –∫—É—Ä—Å</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <select id="study-form-filter">
                            <option value="">üìö –í—Å—ñ —Ñ–æ—Ä–º–∏ –Ω–∞–≤—á–∞–Ω–Ω—è</option>
                            <option value="FULL_TIME">üéì –î–µ–Ω–Ω–∞</option>
                            <option value="EVENING">üåô –í–µ—á—ñ—Ä–Ω—è</option>
                            <option value="PART_TIME">üìÆ –ó–∞–æ—á–Ω–∞</option>
                            <option value="DISTANCE">üíª –î–∏—Å—Ç–∞–Ω—Ü—ñ–π–Ω–∞</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <select id="enrollment-year-filter">
                            <option value="">üìÖ –í—Å—ñ —Ä–æ–∫–∏ –≤—Å—Ç—É–ø—É</option>
                            <option value="2025">2025</option>
                            <option value="2024">2024</option>
                            <option value="2023">2023</option>
                            <option value="2022">2022</option>
                            <option value="2021">2021</option>
                            <option value="2020">2020</option>
                        </select>
                    </div>
                </div>
                <button id="add-group" class="btn btn-success">‚ûï –î–æ–¥–∞—Ç–∏ –≥—Ä—É–ø—É</button>
            </div>

            <div class="table-container">
                <table id="groups-table">
                    <thead>
                        <tr>
                            <th>üë• –ù–∞–∑–≤–∞ –≥—Ä—É–ø–∏</th>
                            <th>üè∑Ô∏è –ö–æ–¥ –≥—Ä—É–ø–∏</th>
                            <th>üéì –†—ñ–≤–µ–Ω—å –æ—Å–≤—ñ—Ç–∏</th>
                            <th>üìñ –ö—É—Ä—Å</th>
                            <th>üìö –§–æ—Ä–º–∞ –Ω–∞–≤—á–∞–Ω–Ω—è</th>
                            <th>üéì –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤</th>
                            <th>üìÖ –†—ñ–∫ –≤—Å—Ç—É–ø—É</th>
                            <th>‚öôÔ∏è –î—ñ—ó</th>
                        </tr>
                    </thead>
                    <tbody id="groups-tbody">
                        <tr><td colspan="7"><div class="loading"></div></td></tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Subjects Section -->
        <section id="subjects-section" class="section">
            <h2>–î–∏—Å—Ü–∏–ø–ª—ñ–Ω–∏</h2>
            
            <div class="section-controls">
                <div class="filters">
                    <div class="search-group">
                        <input type="text" id="subject-search" placeholder="üîç –ü–æ—à—É–∫ –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω...">
                        <button id="search-subjects" class="btn-icon" title="–ü–æ—à—É–∫">üîç</button>
                    </div>
                </div>
                <button id="add-subject" class="btn btn-success">‚ûï –î–æ–¥–∞—Ç–∏ –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω—É</button>
            </div>

            <div class="table-container">
                <table id="subjects-table">
                    <thead>
                        <tr>
                            <th>üìö –ù–∞–∑–≤–∞</th>
                            <th>üë®‚Äçüè´ –í–∏–∫–ª–∞–¥–∞—á</th>
                            <th>üí≥ –ö—Ä–µ–¥–∏—Ç–∏</th>
                            <th>üìÖ –°–µ–º–µ—Å—Ç—Ä</th>
                            <th>üë• –ö—ñ–ª—å–∫—ñ—Å—Ç—å –≥—Ä—É–ø</th>
                            <th>‚öôÔ∏è –î—ñ—ó</th>
                        </tr>
                    </thead>
                    <tbody id="subjects-tbody">
                        <tr><td colspan="5"><div class="loading"></div></td></tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Archive Section (Admin only) -->
        <section id="archive-section" class="section">
            <h2>üóÑÔ∏è –ê—Ä—Ö—ñ–≤ –¥–∞–Ω–∏—Ö</h2>
            
            <div class="archive-stats">
                <div class="stat-card">
                    <h3>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞—Ä—Ö—ñ–≤—É</h3>
                    <div id="archive-stats">
                        <div class="loading"></div>
                    </div>
                </div>
            </div>

            <div class="archive-tabs">
                <button class="archive-tab-btn active" data-archive-tab="groups">üë• –ì—Ä—É–ø–∏</button>
                <button class="archive-tab-btn" data-archive-tab="students">üéì –°—Ç—É–¥–µ–Ω—Ç–∏</button>
                <button class="archive-tab-btn" data-archive-tab="grades">üìù –û—Ü—ñ–Ω–∫–∏</button>
            </div>

            <!-- Archived Groups Tab -->
            <div id="archive-groups-tab" class="archive-tab-content active">
                <div class="section-controls">
                    <div class="filters">
                        <input type="text" id="archive-groups-search" placeholder="üîç –ü–æ—à—É–∫ –∞—Ä—Ö—ñ–≤–Ω–∏—Ö –≥—Ä—É–ø...">
                        <button id="search-archive-groups" class="btn btn-primary">üîç –ü–æ—à—É–∫</button>
                    </div>
                </div>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>üë• –ù–∞–∑–≤–∞ –≥—Ä—É–ø–∏</th>
                                <th>üè∑Ô∏è –ö–æ–¥ –≥—Ä—É–ø–∏</th>
                                <th>üéì –†—ñ–≤–µ–Ω—å –æ—Å–≤—ñ—Ç–∏</th>
                                <th>üìñ –ö—É—Ä—Å</th>
                                <th>üìö –§–æ—Ä–º–∞ –Ω–∞–≤—á–∞–Ω–Ω—è</th>
                                <th>üìÖ –î–∞—Ç–∞ –∞—Ä—Ö—ñ–≤–∞—Ü—ñ—ó</th>
                                <th>üë§ –ö–∏–º –∞—Ä—Ö—ñ–≤–æ–≤–∞–Ω–æ</th>
                                <th>üìÑ –ü—Ä–∏—á–∏–Ω–∞</th>
                                <th>‚öôÔ∏è –î—ñ—ó</th>
                            </tr>
                        </thead>
                        <tbody id="archive-groups-tbody">
                            <tr><td colspan="9"><div class="loading"></div></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Archived Students Tab -->
            <div id="archive-students-tab" class="archive-tab-content">
                <div class="section-controls">
                    <div class="filters">
                        <input type="text" id="archive-students-search" placeholder="üîç –ü–æ—à—É–∫ –∞—Ä—Ö—ñ–≤–Ω–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤...">
                        <button id="search-archive-students" class="btn btn-primary">üîç –ü–æ—à—É–∫</button>
                    </div>
                </div>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>üéì –ù–æ–º–µ—Ä —Å—Ç—É–¥–µ–Ω—Ç–∞</th>
                                <th>üë• –ì—Ä—É–ø–∞</th>
                                <th>üìñ –†—ñ–∫ –≤—Å—Ç—É–ø—É</th>
                                <th>üìö –§–æ—Ä–º–∞ –Ω–∞–≤—á–∞–Ω–Ω—è</th>
                                <th>üìÖ –î–∞—Ç–∞ –∞—Ä—Ö—ñ–≤–∞—Ü—ñ—ó</th>
                                <th>üë§ –ö–∏–º –∞—Ä—Ö—ñ–≤–æ–≤–∞–Ω–æ</th>
                                <th>üìÑ –ü—Ä–∏—á–∏–Ω–∞</th>
                                <th>‚öôÔ∏è –î—ñ—ó</th>
                            </tr>
                        </thead>
                        <tbody id="archive-students-tbody">
                            <tr><td colspan="8"><div class="loading"></div></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Archived Grades Tab -->
            <div id="archive-grades-tab" class="archive-tab-content">
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>üéì –°—Ç—É–¥–µ–Ω—Ç</th>
                                <th>üìö –î–∏—Å—Ü–∏–ø–ª—ñ–Ω–∞</th>
                                <th>üìã –ö–∞—Ç–µ–≥–æ—Ä—ñ—è</th>
                                <th>üìù –¢–∏–ø –æ—Ü—ñ–Ω–∫–∏</th>
                                <th>‚≠ê –û—Ü—ñ–Ω–∫–∞</th>
                                <th>üìÖ –î–∞—Ç–∞ –æ—Ü—ñ–Ω–∫–∏</th>
                                <th>üìÖ –î–∞—Ç–∞ –∞—Ä—Ö—ñ–≤–∞—Ü—ñ—ó</th>
                                <th>üë§ –ö–∏–º –∞—Ä—Ö—ñ–≤–æ–≤–∞–Ω–æ</th>
                                <th>‚öôÔ∏è –î—ñ—ó</th>
                            </tr>
                        </thead>
                        <tbody id="archive-grades-tbody">
                            <tr><td colspan="9"><div class="loading"></div></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal for adding/editing -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3 id="modal-title">–ó–∞–≥–æ–ª–æ–≤–æ–∫</h3>
            <div id="modal-body">
                <!-- Dynamic content -->
            </div>
        </div>
    </div>

    <!-- Subject Modal -->
    <div id="subjectModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="dashboard.closeSubjectModal()">&times;</span>
            <h3>üìö –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω–æ—é</h3>
            <form id="subjectForm">
                <div class="form-group">
                    <label for="subject-name">üìù –ù–∞–∑–≤–∞ –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω–∏:</label>
                    <input type="text" id="subject-name" name="subjectName" required placeholder="–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω–∏">
                </div>
                
                <div class="form-group">
                    <label for="subject-code">üî¢ –ö–æ–¥ –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω–∏:</label>
                    <input type="text" id="subject-code" name="subjectCode" required placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: CS101">
                </div>
                
                <div class="form-group">
                    <label for="subject-credits">üí≥ –ö—Ä–µ–¥–∏—Ç–∏:</label>
                    <input type="number" id="subject-credits" name="credits" min="1" max="30" required placeholder="1-30">
                </div>
                
                <div class="form-group">
                    <label for="subject-semester">üìÖ –°–µ–º–µ—Å—Ç—Ä:</label>
                    <input type="number" id="subject-semester" name="semester" min="1" max="10" required placeholder="1-10">
                </div>
                
                <div class="form-group">
                    <label for="subject-hours-total">‚è∞ –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≥–æ–¥–∏–Ω:</label>
                    <input type="number" id="subject-hours-total" name="hoursTotal" min="1" required placeholder="–ó–∞–≥–∞–ª—å–Ω—ñ –≥–æ–¥–∏–Ω–∏">
                </div>
                
                <div class="form-group">
                    <label for="subject-hours-lectures">üìñ –ì–æ–¥–∏–Ω–∏ –ª–µ–∫—Ü—ñ–π:</label>
                    <input type="number" id="subject-hours-lectures" name="hoursLectures" min="0" value="0" placeholder="–ì–æ–¥–∏–Ω–∏ –ª–µ–∫—Ü—ñ–π">
                </div>
                
                <div class="form-group">
                    <label for="subject-hours-practical">üíº –ì–æ–¥–∏–Ω–∏ –ø—Ä–∞–∫—Ç–∏—á–Ω–∏—Ö:</label>
                    <input type="number" id="subject-hours-practical" name="hoursPractical" min="0" value="0" placeholder="–ì–æ–¥–∏–Ω–∏ –ø—Ä–∞–∫—Ç–∏—á–Ω–∏—Ö">
                </div>
                
                <div class="form-group">
                    <label for="subject-hours-laboratory">üî¨ –ì–æ–¥–∏–Ω–∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∏—Ö:</label>
                    <input type="number" id="subject-hours-laboratory" name="hoursLaboratory" min="0" value="0" placeholder="–ì–æ–¥–∏–Ω–∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∏—Ö">
                </div>
                
                <div class="form-group">
                    <label for="subject-assessment-type">üìä –¢–∏–ø –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è:</label>
                    <select id="subject-assessment-type" name="assessmentType" required>
                        <option value="">–û–±–µ—Ä—ñ—Ç—å —Ç–∏–ø –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è</option>
                        <option value="EXAM">üìù –ï–∫–∑–∞–º–µ–Ω</option>
                        <option value="TEST">‚úÖ –ó–∞–ª—ñ–∫</option>
                        <option value="DIFFERENTIATED_CREDIT">ÔøΩ –î–∏—Ñ–µ—Ä–µ–Ω—Ü—ñ–π–æ–≤–∞–Ω–∏–π –∑–∞–ª—ñ–∫</option>
                        <option value="COURSE_WORK">ÔøΩ –ö—É—Ä—Å–æ–≤–∞ —Ä–æ–±–æ—Ç–∞</option>
                        <option value="QUALIFICATION_WORK">üéì –ö–≤–∞–ª—ñ—Ñ—ñ–∫–∞—Ü—ñ–π–Ω–∞ —Ä–æ–±–æ—Ç–∞</option>
                        <option value="ATTESTATION">üìã –ê—Ç–µ—Å—Ç–∞—Ü—ñ—è</option>
                        <option value="STATE_EXAM">üèõÔ∏è –î–µ—Ä–∂–∞–≤–Ω–∏–π —ñ—Å–ø–∏—Ç</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="subject-description">üìÑ –û–ø–∏—Å:</label>
                    <textarea id="subject-description" name="description" rows="3" placeholder="–û–ø–∏—Å –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω–∏ (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="subject-teacher">üë®‚Äçüè´ –í–∏–∫–ª–∞–¥–∞—á:</label>
                    <select id="subject-teacher" name="teacherId">
                        <option value="">–û–±–µ—Ä—ñ—Ç—å –≤–∏–∫–ª–∞–¥–∞—á–∞ (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)</option>
                    </select>
                </div>
                
                <div class="form-buttons">
                    <button type="submit" class="btn btn-primary">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏</button>
                    <button type="button" class="btn btn-secondary" onclick="dashboard.closeSubjectModal()">‚ùå –°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Subject Teachers Modal (Admin/Manager only) -->
    <div id="subject-teachers-modal" class="modal">
        <div class="modal-content modal-large">
            <span class="close" onclick="dashboard.closeSubjectTeachersModal()">&times;</span>
            <h2 id="subject-teachers-modal-title">üë®‚Äçüè´ –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –≤–∏–∫–ª–∞–¥–∞—á–∞–º–∏ –ø—Ä–µ–¥–º–µ—Ç–∞</h2>
            
            <div class="modal-tabs">
                <button class="modal-tab-btn active" data-tab="assigned">‚úÖ –ü—Ä–∏–∑–Ω–∞—á–µ–Ω—ñ –≤–∏–∫–ª–∞–¥–∞—á—ñ</button>
                <button class="modal-tab-btn" data-tab="available">‚ûï –î–æ—Å—Ç—É–ø–Ω—ñ –≤–∏–∫–ª–∞–¥–∞—á—ñ</button>
            </div>

            <!-- Assigned Teachers Tab -->
            <div id="assigned-teachers-tab" class="modal-tab-content active">
                <h3>–í–∏–∫–ª–∞–¥–∞—á—ñ, —è–∫—ñ –≤–µ–¥—É—Ç—å —Ü–µ–π –ø—Ä–µ–¥–º–µ—Ç:</h3>
                <div class="search-controls">
                    <input type="text" id="assigned-teachers-search" placeholder="üîç –ü–æ—à—É–∫ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏—Ö –≤–∏–∫–ª–∞–¥–∞—á—ñ–≤...">
                </div>
                <div class="table-container" style="max-height: 300px;">
                    <table>
                        <thead>
                            <tr>
                                <th>üë§ –Ü–º'—è</th>
                                <th>üë§ –ü—Ä—ñ–∑–≤–∏—â–µ</th>
                                <th>üìß Email</th>
                                <th>üè¢ –ö–∞—Ñ–µ–¥—Ä–∞</th>
                                <th>‚öôÔ∏è –î—ñ—ó</th>
                            </tr>
                        </thead>
                        <tbody id="assigned-teachers-tbody">
                            <tr><td colspan="5"><div class="loading"></div></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Available Teachers Tab -->
            <div id="available-teachers-tab" class="modal-tab-content">
                <h3>–î–æ—Å—Ç—É–ø–Ω—ñ –≤–∏–∫–ª–∞–¥–∞—á—ñ –¥–ª—è –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:</h3>
                <div class="search-controls">
                    <input type="text" id="available-teachers-search" placeholder="üîç –ü–æ—à—É–∫ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –≤–∏–∫–ª–∞–¥–∞—á—ñ–≤...">
                </div>
                <div class="table-container" style="max-height: 300px;">
                    <table>
                        <thead>
                            <tr>
                                <th>üë§ –Ü–º'—è</th>
                                <th>üë§ –ü—Ä—ñ–∑–≤–∏—â–µ</th>
                                <th>üìß Email</th>
                                <th>üè¢ –ö–∞—Ñ–µ–¥—Ä–∞</th>
                                <th>‚öôÔ∏è –î—ñ—ó</th>
                            </tr>
                        </thead>
                        <tbody id="available-teachers-tbody">
                            <tr><td colspan="5"><div class="loading"></div></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Subject Groups Modal (Admin/Manager only) -->
    <div id="subject-groups-modal" class="modal">
        <div class="modal-content modal-large">
            <span class="close" onclick="dashboard.closeSubjectGroupsModal()">&times;</span>
            <h2 id="subject-groups-modal-title">üìã –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –≥—Ä—É–ø–∞–º–∏ –ø—Ä–µ–¥–º–µ—Ç–∞</h2>
            
            <div class="modal-tabs">
                <button class="modal-tab-btn active" data-tab="assigned">‚úÖ –ü—Ä–∏–∑–Ω–∞—á–µ–Ω—ñ –≥—Ä—É–ø–∏</button>
                <button class="modal-tab-btn" data-tab="available">‚ûï –î–æ—Å—Ç—É–ø–Ω—ñ –≥—Ä—É–ø–∏</button>
            </div>

            <!-- Assigned Groups Tab -->
            <div id="assigned-groups-tab" class="modal-tab-content active">
                <h3>–ì—Ä—É–ø–∏, —è–∫—ñ –≤–∏–≤—á–∞—é—Ç—å —Ü–µ–π –ø—Ä–µ–¥–º–µ—Ç:</h3>
                <div class="search-controls">
                    <input type="text" id="assigned-groups-search" placeholder="üîç –ü–æ—à—É–∫ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏—Ö –≥—Ä—É–ø...">
                </div>
                <div class="table-container scrollable" style="max-height: 300px; overflow-y: auto;">
                    <table>
                        <thead>
                            <tr>
                                <th>üë• –ù–∞–∑–≤–∞ –≥—Ä—É–ø–∏</th>
                                <th>üè∑Ô∏è –ö–æ–¥ –≥—Ä—É–ø–∏</th>
                                <th>üéì –†—ñ–≤–µ–Ω—å –æ—Å–≤—ñ—Ç–∏</th>
                                <th>üìñ –ö—É—Ä—Å</th>
                                <th>üìö –§–æ—Ä–º–∞ –Ω–∞–≤—á–∞–Ω–Ω—è</th>
                                <th>‚öôÔ∏è –î—ñ—ó</th>
                            </tr>
                        </thead>
                        <tbody id="assigned-groups-tbody">
                            <tr><td colspan="6"><div class="loading"></div></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Available Groups Tab -->
            <div id="available-groups-tab" class="modal-tab-content">
                <h3>–î–æ—Å—Ç—É–ø–Ω—ñ –≥—Ä—É–ø–∏ –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è:</h3>
                <div class="search-controls">
                    <input type="text" id="available-groups-search" placeholder="üîç –ü–æ—à—É–∫ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –≥—Ä—É–ø...">
                    <div class="filters">
                        <select id="available-groups-education-filter">
                            <option value="">üéì –£—Å—ñ —Ä—ñ–≤–Ω—ñ –æ—Å–≤—ñ—Ç–∏</option>
                        </select>
                        <select id="available-groups-course-filter">
                            <option value="">üìñ –£—Å—ñ –∫—É—Ä—Å–∏</option>
                        </select>
                    </div>
                </div>
                <div class="table-container scrollable" style="max-height: 300px; overflow-y: auto;">
                    <table>
                        <thead>
                            <tr>
                                <th>üë• –ù–∞–∑–≤–∞ –≥—Ä—É–ø–∏</th>
                                <th>üè∑Ô∏è –ö–æ–¥ –≥—Ä—É–ø–∏</th>
                                <th>üéì –†—ñ–≤–µ–Ω—å –æ—Å–≤—ñ—Ç–∏</th>
                                <th>üìñ –ö—É—Ä—Å</th>
                                <th>üìö –§–æ—Ä–º–∞ –Ω–∞–≤—á–∞–Ω–Ω—è</th>
                                <th>‚öôÔ∏è –î—ñ—ó</th>
                            </tr>
                        </thead>
                        <tbody id="available-groups-tbody">
                            <tr><td colspan="6"><div class="loading"></div></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="/api-client.js"></script>
    <script src="/dashboard.js"></script>
    <script>
        // Theme toggle functionality
        const themeToggle = document.getElementById('themeToggle');
        const sunIcon = themeToggle.querySelector('.sun-icon');
        const moonIcon = themeToggle.querySelector('.moon-icon');
        
        // Check for saved theme preference or default to system preference
        const currentTheme = localStorage.getItem('theme') || 
          (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        
        document.documentElement.setAttribute('data-theme', currentTheme);
        updateThemeIcon(currentTheme);
        
        themeToggle.addEventListener('click', () => {
          const currentTheme = document.documentElement.getAttribute('data-theme');
          const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
          
          document.documentElement.setAttribute('data-theme', newTheme);
          localStorage.setItem('theme', newTheme);
          updateThemeIcon(newTheme);
        });
        
        function updateThemeIcon(theme) {
          if (theme === 'dark') {
            sunIcon.style.display = 'block';
            moonIcon.style.display = 'none';
          } else {
            sunIcon.style.display = 'none';
            moonIcon.style.display = 'block';
          }
        }
        
        // Listen for system theme changes
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
          if (!localStorage.getItem('theme')) {
            const newTheme = e.matches ? 'dark' : 'light';
            document.documentElement.setAttribute('data-theme', newTheme);
            updateThemeIcon(newTheme);
          }
        });
    </script>
</body>
</html>
